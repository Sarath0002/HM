{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yesit\\\\hospital management\\\\frontend\\\\react-frontend\\\\src\\\\component\\\\admin\\\\Optab.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport axios from \"axios\";\nimport \"./optab.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Optab() {\n  _s();\n  const [filteredData, setFilteredData] = useState([]);\n\n  //normal api\n\n  const [data, setdata] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:3002/appointment/\").then(res => {\n      setdata(res.data);\n      setFilteredData(res.data);\n    }).catch(() => {\n      setdata([]);\n      setFilteredData([]);\n    });\n  }, []);\n  function getWeekNumber(date) {\n    let currentDate = new Date(date);\n    let startDate = new Date(currentDate.getFullYear(), 0, 1);\n    var days = Math.floor((currentDate - startDate) / (24 * 60 * 60 * 1000));\n    var weekNumber = Math.ceil(days / 7);\n    return weekNumber;\n  }\n\n  /// yesterday button function\n  function yesterday() {\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(today.getDate() - 1);\n    const timeChange = yesterday.getFullYear() + \"-\" + parseInt(yesterday.getMonth() + 1) + \"-\" + yesterday.getDate();\n    let dayafter = data.filter(item => item.date === timeChange);\n    setFilteredData(dayafter);\n  }\n  function lastWeek() {\n    let currentweek = getWeekNumber(new Date());\n    let records = data.filter(ele => getWeekNumber(ele.date) === currentweek - 1);\n    setFilteredData(records);\n  }\n  function currentMonth() {\n    let currentMonthNumber = new Date().getMonth();\n    let records = data.filter(ele => {\n      return new Date(ele.date).getMonth() === currentMonthNumber;\n    });\n    setFilteredData(records);\n  }\n  // console.log(data);\n  // console.log(\"data\", filteredData);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"three\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"databtn\",\n        onClick: yesterday,\n        children: \"Yesterday\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"databtn\",\n        onClick: lastWeek,\n        children: \"Last Week\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"databtn\",\n        onClick: currentMonth,\n        children: \"Current Month\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      className: \"table\",\n      value: filteredData,\n      paginator: true,\n      rows: 5,\n      rowsPerPageOptions: [5, 10, 25, 50],\n      tableStyle: {\n        minWidth: \"40rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Column, {\n        field: \"empid\",\n        header: \"No\",\n        style: {\n          width: \"10%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"date\",\n        header: \"Date\",\n        style: {\n          width: \"20%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"name\",\n        header: \"Name\",\n        style: {\n          width: \"20%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"cause\",\n        header: \"Purpose\",\n        style: {\n          width: \"20%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"age\",\n        header: \"Age\",\n        style: {\n          width: \"5%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"mobile\",\n        header: \"Mobile\",\n        style: {\n          width: \"20%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"email\",\n        header: \"Email id\",\n        style: {\n          width: \"20%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(Optab, \"ZEEwMPEWOmw0UKqCUxsnSdwH/UI=\");\n_c = Optab;\nvar _c;\n$RefreshReg$(_c, \"Optab\");","map":{"version":3,"names":["React","useState","useEffect","DataTable","Column","axios","jsxDEV","_jsxDEV","Optab","_s","filteredData","setFilteredData","data","setdata","get","then","res","catch","getWeekNumber","date","currentDate","Date","startDate","getFullYear","days","Math","floor","weekNumber","ceil","yesterday","today","setDate","getDate","timeChange","parseInt","getMonth","dayafter","filter","item","lastWeek","currentweek","records","ele","currentMonth","currentMonthNumber","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","value","paginator","rows","rowsPerPageOptions","tableStyle","minWidth","field","header","style","width","_c","$RefreshReg$"],"sources":["C:/Users/yesit/hospital management/frontend/react-frontend/src/component/admin/Optab.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport axios from \"axios\";\r\nimport \"./optab.css\";\r\n\r\nexport default function Optab() {\r\n  const [filteredData, setFilteredData] = useState([]);\r\n\r\n  //normal api\r\n\r\n  const [data, setdata] = useState([]);\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:3002/appointment/\")\r\n      .then((res) => {\r\n        setdata(res.data);\r\n        setFilteredData(res.data);\r\n      })\r\n      .catch(() => {\r\n        setdata([]);\r\n        setFilteredData([]);\r\n      });\r\n  }, []);\r\n\r\n  function getWeekNumber(date) {\r\n    let currentDate = new Date(date);\r\n    let startDate = new Date(currentDate.getFullYear(), 0, 1);\r\n    var days = Math.floor((currentDate - startDate) / (24 * 60 * 60 * 1000));\r\n\r\n    var weekNumber = Math.ceil(days / 7);\r\n    return weekNumber;\r\n  }\r\n\r\n  /// yesterday button function\r\n  function yesterday() {\r\n    const today = new Date();\r\n    const yesterday = new Date(today);\r\n    yesterday.setDate(today.getDate() - 1);\r\n    const timeChange =\r\n      yesterday.getFullYear() +\r\n      \"-\" +\r\n      parseInt(yesterday.getMonth() + 1) +\r\n      \"-\" +\r\n      yesterday.getDate();\r\n    let dayafter = data.filter((item) => item.date === timeChange);\r\n    setFilteredData(dayafter);\r\n  }\r\n\r\n  function lastWeek() {\r\n    let currentweek = getWeekNumber(new Date());\r\n    let records = data.filter(\r\n      (ele) => getWeekNumber(ele.date) === currentweek - 1\r\n    );\r\n    setFilteredData(records);\r\n  }\r\n\r\n  function currentMonth() {\r\n    let currentMonthNumber = new Date().getMonth();\r\n    let records = data.filter((ele) => {\r\n      return new Date(ele.date).getMonth() === currentMonthNumber;\r\n    });\r\n    setFilteredData(records);\r\n  }\r\n  // console.log(data);\r\n  // console.log(\"data\", filteredData);\r\n\r\n  return (\r\n    <div className=\"avatar mt-5\">\r\n      <div className=\"three\">\r\n        <button className=\"databtn\" onClick={yesterday}>\r\n          Yesterday\r\n        </button>\r\n        <button className=\"databtn\" onClick={lastWeek}>\r\n          Last Week\r\n        </button>\r\n        <button className=\"databtn\" onClick={currentMonth}>\r\n          Current Month\r\n        </button>\r\n      </div>\r\n      <DataTable\r\n        className=\"table\"\r\n        value={filteredData}\r\n        paginator\r\n        rows={5}\r\n        rowsPerPageOptions={[5, 10, 25, 50]}\r\n        tableStyle={{ minWidth: \"40rem\" }}\r\n      >\r\n        <Column field=\"empid\" header=\"No\" style={{ width: \"10%\" }}></Column>\r\n        <Column field=\"date\" header=\"Date\" style={{ width: \"20%\" }}></Column>\r\n        <Column field=\"name\" header=\"Name\" style={{ width: \"20%\" }}></Column>\r\n        <Column\r\n          field=\"cause\"\r\n          header=\"Purpose\"\r\n          style={{ width: \"20%\" }}\r\n        ></Column>\r\n        <Column field=\"age\" header=\"Age\" style={{ width: \"5%\" }}></Column>\r\n        <Column\r\n          field=\"mobile\"\r\n          header=\"Mobile\"\r\n          style={{ width: \"20%\" }}\r\n        ></Column>\r\n        <Column\r\n          field=\"email\"\r\n          header=\"Email id\"\r\n          style={{ width: \"20%\" }}\r\n        ></Column>\r\n      </DataTable>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}